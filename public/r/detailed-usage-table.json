{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "detailed-usage-table",
  "type": "registry:block",
  "title": "Detailed Usage Table",
  "description": "A detailed usage table component with resource consumption breakdown",
  "registryDependencies": [
    "table",
    "card",
    "badge",
    "utils"
  ],
  "files": [
    {
      "path": "src/registry/billingsdk/detailed-usage-table.tsx",
      "content": "'use client';\r\n\r\nimport {\r\n\tCard,\r\n\tCardContent,\r\n\tCardDescription,\r\n\tCardHeader,\r\n\tCardTitle,\r\n} from '@/components/ui/card';\r\nimport {\r\n\tTable,\r\n\tTableBody,\r\n\tTableCaption,\r\n\tTableCell,\r\n\tTableHead,\r\n\tTableHeader,\r\n\tTableRow,\r\n} from '@/components/ui/table';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport interface UsageResource {\r\n\tname: string;\r\n\tused: number;\r\n\tlimit: number;\r\n\tpercentage?: number;\r\n\tunit?: string;\r\n}\r\n\r\nexport interface DetailedUsageTableProps {\r\n\tclassName?: string;\r\n\ttitle?: string;\r\n\tdescription?: string;\r\n\tresources: UsageResource[];\r\n}\r\n\r\nexport function DetailedUsageTable({\r\n\tclassName,\r\n\ttitle = 'Detailed Usage',\r\n\tdescription,\r\n\tresources,\r\n}: DetailedUsageTableProps) {\r\n\tconst formatNumber = (num: number) => {\r\n\t\treturn new Intl.NumberFormat().format(num);\r\n\t};\r\n\r\n\tconst getPercentageBar = (percentage: number) => {\r\n\t\tlet bgColor = 'bg-green-500';\r\n\t\tif (percentage >= 90) bgColor = 'bg-red-500';\r\n\t\telse if (percentage >= 75) bgColor = 'bg-yellow-500';\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"flex items-center gap-2\">\r\n\t\t\t\t<div className=\"h-2 w-full rounded-full bg-muted\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={cn('h-2 rounded-full', bgColor)}\r\n\t\t\t\t\t\tstyle={{ width: `${Math.max(0, Math.min(percentage, 100))}%` }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span className=\"text-xs w-10\">{Math.round(percentage)}%</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card className={cn('w-full', className)}>\r\n\t\t\t<CardHeader className=\"pb-4\">\r\n\t\t\t\t<CardTitle className=\"text-lg\">{title}</CardTitle>\r\n\t\t\t\t{description && <CardDescription>{description}</CardDescription>}\r\n\t\t\t</CardHeader>\r\n\t\t\t<CardContent>\r\n\t\t\t\t<div className=\"overflow-x-auto\">\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<TableCaption className=\"sr-only\">\r\n\t\t\t\t\t\t\tDetailed usage of resources\r\n\t\t\t\t\t\t</TableCaption>\r\n\t\t\t\t\t\t<TableHeader>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableHead className=\"w-[200px]\">Resource</TableHead>\r\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Used</TableHead>\r\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Limit</TableHead>\r\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">%</TableHead>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHeader>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{resources.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tcolSpan={4}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-24 text-center text-muted-foreground\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tNo resources found\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tresources.map((resource, index) => {\r\n\t\t\t\t\t\t\t\t\t// Calculate percentage if not provided, protecting against divide-by-zero\r\n\t\t\t\t\t\t\t\t\tconst percentage =\r\n\t\t\t\t\t\t\t\t\t\tresource.percentage ??\r\n\t\t\t\t\t\t\t\t\t\t(resource.limit > 0\r\n\t\t\t\t\t\t\t\t\t\t\t? (resource.used / resource.limit) * 100\r\n\t\t\t\t\t\t\t\t\t\t\t: 0);\r\n\r\n\t\t\t\t\t\t\t\t\tconst unit = resource.unit ? ` ${resource.unit}` : '';\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={resource.name || index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{resource.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-mono\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formatNumber(resource.used)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{unit}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-mono\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{formatNumber(resource.limit)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{unit}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getPercentageBar(percentage)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t);\r\n}\r\n",
      "type": "registry:component",
      "target": "components/billingsdk/detailed-usage-table.tsx"
    },
    {
      "path": "src/registry/billingsdk/demo/detailed-usage-table-demo.tsx",
      "content": "'use client';\r\n\r\nimport { DetailedUsageTable } from '@/registry/billingsdk/detailed-usage-table';\r\n\r\nexport function DetailedUsageTableDemo() {\r\n\treturn (\r\n\t\t<DetailedUsageTable\r\n\t\t\ttitle=\"Resource Usage\"\r\n\t\t\tdescription=\"Detailed breakdown of your resource consumption\"\r\n\t\t\tresources={[\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'API Calls',\r\n\t\t\t\t\tused: 12300,\r\n\t\t\t\t\tlimit: 20000,\r\n\t\t\t\t\t// percentage will be automatically calculated as 61.5%\r\n\t\t\t\t\tunit: 'calls',\r\n\t\t\t\t},\r\n\t\t\t\t{ name: 'Storage', used: 850, limit: 1000, percentage: 85, unit: 'GB' },\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Team Members',\r\n\t\t\t\t\tused: 4,\r\n\t\t\t\t\tlimit: 5,\r\n\t\t\t\t\t// percentage will be automatically calculated as 80%\r\n\t\t\t\t\tunit: 'users',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Bandwidth',\r\n\t\t\t\t\tused: 1500,\r\n\t\t\t\t\tlimit: 2000,\r\n\t\t\t\t\tpercentage: 75,\r\n\t\t\t\t\tunit: 'GB',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Emails',\r\n\t\t\t\t\tused: 8500,\r\n\t\t\t\t\tlimit: 10000,\r\n\t\t\t\t\t// percentage will be automatically calculated as 85%\r\n\t\t\t\t\tunit: 'emails',\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t);\r\n}\r\n",
      "type": "registry:component",
      "target": "components/detailed-usage-table-demo.tsx"
    }
  ]
}